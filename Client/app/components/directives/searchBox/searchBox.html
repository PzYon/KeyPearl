<div class="container">
    <div class="actions">
        <span data-separated-elements>
            <span data-action-link="resetAll">
                reset all
            </span>
            <span data-action-link="resetSelectedTags">
                reset tags
            </span>
            <span data-action-link="toggleTree">
                {{searchHelper.showTree ? "show tag search" : "show tag tree"}}
            </span>
        </span>
    </div>

    <div>
        <div class="sub-container">
            <input type="text"
                   placeholder="search for free text..."
                   data-ng-model="searchHelper.searchString"
                   data-ng-change="searchByStringDelayed()"/>
        </div>
    </div>

    <div>
        <div>
            <div class="tag-search sub-container" data-ng-if="!searchHelper.showTree">
                <input type="text"
                       placeholder="search for tags..."
                       data-ng-model="searchHelper.tagSearchString"
                       data-ng-change="setMatchingTags()"/>
                <div data-ng-if="searchHelper.tagSearchString"
                     data-dropdown="matchingTags"
                     data-on-select="toggleSelectedTag"
                     data-on-exit="clearTagSearchString"></div>
            </div>
        </div>
    </div>

    <span class="tags"
          data-ng-if="searchHelper.tagHash"
          data-tags="searchHelper.selectedTags"
          data-on-click="toggleSelectedTag"
          data-tag-hash="searchHelper.tagHash"></span>

    <div class="tag-tree"
         data-ng-if="searchHelper.showTree"
         data-on-select="toggleSelectedTag(tag)"
         data-on-select-function="toggleSelectedTag"
         data-tag-tree="searchHelper.rootTag"></div>

</div>